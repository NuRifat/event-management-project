{% extends "dashboard/base.html" %}
{% block title %}Categories{% endblock %}

{% block content %}

<div class="max-w-5xl mx-auto mt-10 px-4">

    <!-- HEADER -->
    <h1 class="text-3xl font-bold mb-6 text-blue-900">Event Categories</h1>
    <div class="flex items-center justify-between mb-3">
        <h2 class="text-xl font-semibold text-blue-700">
            {{ category.name }}
        </h2>

        <a href="{% url 'create-event' %}?category={{ category.id }}"
       class="bg-green-600 text-white text-sm px-4 py-2 rounded-lg font-semibold hover:bg-green-700 shadow">
        + Add Event
        </a>
    </div>


    {% for category in categories %}
        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 mb-6">

            <!-- CATEGORY TITLE -->
            <h2 class="text-xl font-semibold text-blue-700 mb-3">
                {{ category.name }}
            </h2>

            <!-- EVENT LIST -->
            <ul class="space-y-2">
                {% for event in category.event_category.all %}
                    <li class="flex items-center justify-between bg-gray-50 border rounded-lg px-3 py-2 hover:bg-gray-100 transition">

                        <div>
                            <a href="{% url 'event-details' event.id %}" class="font-medium hover:underline">
                                {{ event.name }}
                            </a>
                            <p class="text-sm text-gray-600">{{ event.date }}</p>
                        </div>

                        <a href="{% url 'event-details' event.id %}" 
                           class="bg-blue-600 text-white text-sm px-3 py-1 rounded-lg font-semibold hover:bg-blue-700 shadow">
                           View
                        </a>

                    </li>
                {% empty %}
                    <li class="text-gray-500">No events under this category</li>
                {% endfor %}
            </ul>

        </div>
    {% endfor %}

</div>

{% endblock %}
